{% extends "webapp/base_app.html" %}
{% block title %}Finanzas{% endblock %}
{% block content %}
<div class="mt-4 row">
  <div class="col-md-4">
    <div class="card text-bg-success mb-3">
      <div class="card-body">
        <h5 class="card-title">Ingresos mes</h5>
        <p class="display-6">${{ ingresos }}</p>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card text-bg-danger mb-3">
      <div class="card-body">
        <h5 class="card-title">Egresos mes</h5>
        <p class="display-6">${{ egresos }}</p>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card text-bg-primary mb-3">
      <div class="card-body">
        <h5 class="card-title">Saldo</h5>
        <p class="display-6">${{ saldo }}</p>
      </div>
    </div>
  </div>
</div>
<div class="card">
  <div class="card-header">Movimientos recientes</div>
  <div class="card-body table-responsive">
    <table class="table table-sm">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Tipo</th>
          <th>Monto</th>
          <th>Categor√≠a</th>
        </tr>
      </thead>
      <tbody>
        {% for mov in movimientos %}
          <tr>
            <td>{{ mov.fecha }}</td>
            <td>{{ mov.get_tipo_display }}</td>
            <td>${{ mov.monto_total }}</td>
            <td>{{ mov.get_categoria_display }}</td>
          </tr>
        {% empty %}
          <tr><td colspan="4" class="text-center text-muted">Sin movimientos.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
